<!DOCTYPE html>
<html lang="ko">
<style>
.add_btn_small {
	display: inline-block;
	padding: 0px;
}

.add_btn_small a {
	display: inline-block;
	width: 33px;
	height: 20px;
	line-height: 20px;
	text-align: center;
	color: #444;
	background: #ffffff;
	box-shadow: 1px 1px rgba(0, 0, 0, 0.15);
}
</style>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="/static/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/static/bootstrap/css/bootstrap.min.css">
<link rel="stylesheet"
	href="/static/bootstrap/css/bootstrap-theme.min.css">
<link rel="stylesheet" href="/static/bootstrap/css/dashboard.css">
<link rel="stylesheet"
	href="/static/bootstrap/css/bootstrap-datepicker.css">
<link rel="stylesheet" href="/static/fontawesome/css/all.css">
<link rel="stylesheet" href="/static/css/ax5/ax5grid.css">
<link rel="stylesheet" href="/static/css/ax5/ax5mask.css">
<link rel="stylesheet" href="/static/css/ax5/ax5modal.css">
<link rel="stylesheet" href="/static/css/ax5/ax5toast.css">
<link rel="stylesheet" href="/static/css/jstree/style.min.css">
<link rel="stylesheet" href="/static/css/gnb.css">
<link rel="stylesheet" href="/static/css/main.css">
<link rel="stylesheet" href="/static/css/sub.css">
<link rel="stylesheet" href="/static/css/common.css">

<script src="/static/js/jquery-latest.min.js"></script>
<script src="/static/js/jquery.serializeObject.js"></script>
<script src="/static/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/bootstrap/js/bootstrap-datepicker.min.js"></script>
<script src="/static/bootstrap/js/bootstrap-datepicker.ko.min.js"></script>
<script src="/static/js/moment/moment-with-locales.js"></script>
<script src="/static/js/ax5/ax5core.min.js"></script>
<script src="/static/js/ax5/ax5grid.min.js"></script>
<script src="/static/js/ax5/ax5mask.min.js"></script>
<script src="/static/js/ax5/ax5modal.min.js"></script>
<script src="/static/js/ax5/ax5toast.min.js"></script>
<script src="/static/js/jstree/jstree.min.js"></script>
<script type="text/javascript"
	src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script src="/static/js/global.js"></script>
</head>
<body>
	<div id="head_area"></div>
	<div id="top_area"></div>

	<div id="main_area">
		<!-- 페이지 상단 -->
		<div class="contents no_bg">
			<ul class="btn_ul">
				<li class="btn_r">
					<a onclick="initSearch();">
						<button class="bg_gray">초기화</button>
					</a> 
					<a onclick="bmPrdtMstrGridView.setData(0);">
						<button class="bg_gray">검 색</button>
					</a>
				</li>
			</ul>
		</div>
		<!-- 검색 콘텐츠 -->
		<div class="contents search">
			<div class="">
				<!-- 테이블 인풋 3분할 -->
				<table class="table_input type04">					
					<!-- 검색조건 2행 -->
					<tr>
						<th class="hit">회사</th>
						<td><select id="coCd_S" data-kind="CO"
							onchange="bmPrdtMstrGridView.setData(0);" required="required">
								<option value="">전체</option>
						</select></td>

						<th>품목구분</th>
						<td><select id="goodsDiv_S" data-kind="GOODSDIV"
							data-search="goodsDiv_S">
								<option value="">선택</option>
						</select></td>

						<!-- <th>자재유형</th>  PRDT_CD -->
						<th>제품구분</th>
						<td>
							<input type="hidden" id="prdtCd_S" data-kind="prdtCd_S">
							<div class="search_form" style="width: 100%;">
								<input type="text" id="prdtCdNm_S" data-kind="prdtCdNm_S" data-search="prdtCdNm_S" 
								onkeyup="event.keyCode == 8 ? prdtCd_S.value = '' : event.keyCode == 13 ? bmPrdtMstrGridView.setData(0) : ''">
								          
								<a onclick="openPrdtSearch();">
									<i class="i_search_w"></i>
									</a>
							</div>
						</td>

						<!-- <th>자재그룹</th> ITEM_DIV -->
						<th>아이템구분</th>
						<td><select id="itemDiv_S" data-kind="ITEMLIST" data-search="itemDiv_S">
								<option value="">선택</option>
						</select></td>
					</tr>

					<!-- 검색조건 3행 -->
					<tr>
						<th>품번</th>
						<td><input type="hidden" id="prodCd_S" data-kind="prodCd_S">
							<div class="search_form" style="width: 100%;">
								<!-- <input type="text" id="prodCd_S" required="required"> -->
								<input type="text" id="prodCdNm_S" data-kind="prodCdNm_S" data-search="prodCdNm_S"
								onkeyup="event.keyCode == 8 ? prdtCd_S.value = '' : event.keyCode == 13 ? bmPrdtMstrGridView.setData(0) : ''">
								<a onclick="openProdSearch();">
									<i class="i_search_w"></i>
								</a>
							</div>
						</td>

						<th>품명</th>
						<td>
							<input type="text" id="prodNm_S" data-kind="prodNm_S" data-search="prodNm_S"
							onkeyup="if(event.keyCode != 13){resetClntCd()}; event.keyCode == 8 ? prodNm_S.value = '' : event.keyCode == 13 ? bmPrdtMstrGridView.setData(0) : ''; ">
						</td>

					</tr>

					<!-- 검색조건 END -->
				</table>
			</div>
		</div>
		<!-- 콘텐츠 -->
		<div class="contents no_bg">
			<!-- 콘텐츠 타이틀 -->
			<div class="contents_tit">
				<span style="height: 30px; line-height: 30px; font-size: 15px;">
				</span>
				<div class="add_btn_small pdl10">
					<!-- 				<a onclick="insertWBSModal();" style="height: 30px; line-height: 28px;" authchk>+</a> -->
					<!-- <a onclick="" data-grid-control="row-add" style="height: 30px; line-height: 28px;"authchk>+</a>
				<a onclick="" data-grid-control="row-remove" style="height: 30px; line-height: 28px;" authchk>-</a> -->
					<a onclick="excelDown();"
						style="height: 30px; line-height: 28px; width: 90px;"><i
						class="fas fa-file-excel"></i> 엑셀다운로드</a>
				</div>
				<select id="recordCnt" class="prae_select" data-search="recordCnt"
					onchange="changeRecordCnt();">
					<option value="10">10</option>
					<option value="20" selected>20</option>
					<option value="50">50</option>
					<option value="100">100</option>
					<option value="9999999">전체</option>
				</select>
			</div>
		</div>
		<!-- 콘텐츠 -->
		<div class="contents">
			<table>
				<!-- 1행 -->
				<tr>
					<td>
						<!-- 그리드의 행추가 -->
						<div class="ax5_grid" data-ax5grid="first-grid"
							data-ax5grid-config="{}" style="height: 650px; width: 100%"></div>
						<!-- <button id="btn1" onclick="gridAddRow();">+</button>
						<button class="btn btn-default" data-grid-control="row-add">row add</button>
						<button class="btn btn-default" data-grid-control="row-remove" onclick="gridAddRow();">row remove</button>
    					<button class="btn btn-default" data-grid-control="row-update" onclick="gridAddRow();">row update</button> -->
					</td>
					<td>
						<form id="inputForm">
							<table style="height: 650px; width: 100%;"
								class="table_input type03">
								<thead></thead>
								<tbody>
									<tr>
										<th class="hit">회사</th>
										<td><select id="coCd" name="coCd" data-kind="CO"
											data-search="coCd" required="required">
												<option value="">선택</option>
										</select></td>
									</tr>
									<tr>
										<th>품번</th>
										<td>
											<div>
												<input type="text" id="prodCd" name="prodCd"
													data-kind="prodCd" data-search="prodCd" readonly="readonly">
											</div>
										</td>
										<th>품목구분</th>
										<td>
											<div>
												<select id="goodsDiv" name="goodsDiv" data-kind="GOODSDIV"
													data-search="goodsDiv">
													<option selected>선택</option>
												</select>
											</div>
										</td>
									</tr>
									<tr>
										<th>품명</th>
										<td>
											<div>
												<input type="text" id="prodNm" name="prodNm"
													data-kind="prodNm" data-search="prodNm" readonly="readonly">
											</div>
										</td>
									</tr>
									<tr>
										<th>제품구분</th>
										<td>											
											<div class="search_form" style="width: 100%;">
												<input type="text" id="prdtCdNm" name="prdtCdNm"
													data-kind="prdtCdNm" data-search="prdtCdNm"
													readonly="readonly">
											</div>
										</td>
										<th>아이템구분</th>
										<td>
											<div>
												<select id="itemDiv" name="itemDiv" data-kind="ITEMLIST"
													data-search="itemDiv">
													<option value="">선택</option>
												</select>
											</div>
										</td>
									</tr>
									<tr>
										<th>작업구분</th>
										<td>
											<div>
												<select type="text" id="prodDtlDiv20" name="prodDtlDiv20"
													data-kind="ORDRSDTLDIV20" data-search="itemDiv"
													>
													<option value=""></option>
												</select>
											</div>
										</td>
										<th>자체구분</th>
										<td>
											<div>
												<select type="text" id="prodDtlDiv30" name="prodDtlDiv30"
													data-kind="ORDRSDTLDIV30" data-search="prodDtlDiv30">
													<option value=""></option>
												</select>
											</div>
										</td>
									</tr>
									<tr>
										<th>고객사PJT</th>
										<td>
											<div>
												<input type="text" id="clntPjt" name="clntPjt"
													data-kind="clntPjt" data-search="clntPjt"
													readonly="readonly">
											</div>
										</td>
										<th>사용여부</th>
										<td>
											<div>
												<select id="useYn" name="useYn" data-kind="useYn"
													data-search="useYn">
													<option value="">선택</option>
													<option value="Y">Y</option>
													<option value="N">N</option>
												</select>
											</div>
										</td>
									</tr>
									<tr>
										<th>설계난이도</th>
										<td>
											<div>
												<select type="text" id="dsgnDifCodeId" name="dsgnDifCodeId"
													data-kind="DSGNDIF" data-search="dsgnDifCodeId">
													<option value=""></option>
												</select>
											</div>
										</td>
										<th>생산난이도</th>
										<td>
											<div>
												<select type="text" id="prdctnDifCodeId"
													name="prdctnDifCodeId" data-kind="PRDCTNDIF"
													data-search="prdctnDifCodeId">
													<option value=""></option>
												</select>
											</div>
										</td>
									</tr>
									<tr>
										<th>제품중량</th>
										<td>
											<div>
												<input type="text" id="prodWt" name="prodWt"
													data-kind="prodWt" data-search="prodWt">
											</div>
										</td>
										<th>제품사이즈</th>
										<td>
											<div>
												<input id="prodSize" name="prodSize" data-kind="prodSize"
													data-search="prodSize">

											</div>
										</td>
									</tr>
									<tr>
										<th>제품단가</th>
										<td>
											<div>
												<input type="text" id="prodUpr" name="prodUpr"
													data-kind="prodUpr" data-search="prodUpr" 
													readonly="readonly">
											</div>
										</td>
										<th>단가기준일</th>
										<td>
											<div>
												<select type="text" id="prodUprDt" name="prodUprDt"
													data-kind="prodUprDt" data-search="prodUprDt">
													<option value=""></option>
												</select>
											</div>
										</td>
									</tr>
									<tr>
										<th>특이사항</th>
										<td>
											<div>
												<!-- 저장시 해당 키값 05.29 -->
												<input type="hidden" id="fileTrgtKey" >
												<!-- <select id="matrTestDiv1" name="matrTestDiv1" data-kind="MATRTESTDIV" required="required">
													<option value="">선택</option>
												</select> -->
												<!-- <input type="text" id="prodRmk" name="prodRmk" data-kind="prodRmk" data-search="prodRmk" value=""> -->
												<textarea type="text" id="prodRmk" name="prodRmk"
													data-kind="prodRmk" data-search="prodRmk" rows="3"
													cols="80"></textarea>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
							<div>
								<!-- <a onclick="updateBmPrdtMstr();"></a> -->

								<button onclick="updateSave();">저장</button>

								<button>닫기</button>
								<!-- 	<button type="button" class="btn btn-default btn-sm" id="actionBtn" authchk>등록</button>
								<button type="button" class="btn btn-default btn-sm" onclick="modalStack.close();">닫기</button> -->
							</div>
						</form>
					</td>
				</tr>
			</table>
			<div data-ax5grid="excel-grid" data-ax5grid-config="{}"
				style="display: none;"></div>
		</div>
</body>
</html>
<script type="text/javascript">
	//debugger;
	//var openFrom = null;
	var bmPrdtMstrGridView = {
		initView: function(){
			this.target = new ax5.ui.grid();
			this.target.setConfig({
				// 체크박스
				showRowSelector: true,
				multipleSelect: false,
				sortable: true,
				target: $('[data-ax5grid="first-grid"]'),
				header: {
	              align: "center",
	              selector: false
	            },
	            body: {
					onClick: function () {
					    this.self.select(this.dindex);
					    var row = this.dindex;
	                    var paramObj = {"row":row};
	                    
	                    //bmPrdtMstrGridView(0);
	                    
	                    // 그리드값 가져오기 호출
	                    getGrid();
					},
					onDBLClick: function () {
						this.self.clearSelect();
	                    this.self.select(this.dindex);
	                    
					},
			   },
	           page: {
					navigationItemCount: 9,
					height: 30,
					display: true,
					firstIcon: '<i class="fa fa-step-backward" aria-hidden="true"></i>',
					prevIcon: '<i class="fa fa-caret-left" aria-hidden="true"></i>',
					nextIcon: '<i class="fa fa-caret-right" aria-hidden="true"></i>',
					lastIcon: '<i class="fa fa-step-forward" aria-hidden="true"></i>',
					onChange: function () {
						bmPrdtMstrGridView.setData(this.page.selectPage); 
					}
	           },
	           //리스트 
	           //공통코드 부분에 Nm을 추가하면 조인된 값이 보여진다.  
	           columns: [
	        	   {key: "coCdNm", 		label: "회사",		hidden: true},
	        	   {key: "rn",      label: "No.",          align: "center",   width: 60},
	               {key: "prodCd",      label: "품번",	align: "center",   width: 130},
	               {key: "prodNm",      label: "품명",      align: "left",   width: 130},
	               {key: "goodsDivNm",      label: "품목구분",      align: "center",   width: 130},
	               {key: "prdtCd",      label: "제품구분",	align: "center", width: 130},
	               {key: "itemDivNm",      label: "아이템구분",	align: "center", width: 130},
	               {key: "prodDtlDiv20Nm",      label: "작업구분",      align: "center",   width: 130},
	               {key: "prodDtlDiv30Nm",      label: "자체구분",      align: "center",   width: 100},
	               {key: "clntPjt",      label: "고객사PJT",      align: "center",   width: 100},
	               {key: "creatId",      label: "생성자",      align: "center",   width: 130},
	               {key: "creatDttm",      label: "생성일시",      align: "center",   width: 130},
	               {key: "udtId",      label: "변경자",      align: "center",   width: 130},
	               {key: "udtDttm",      label: "변경일시",      align: "center",   width: 200},	               
	               {key: "dsgnDifCodeIdNm",      label: "설계난이도",      hidden: true},
	               {key: "prdctnDifCodeIdNm",      label: "생산난이도",      hidden: true},
	               {key: "prodWt",      label: "중량",      hidden: true},
	               {key: "prodUnit",      label: "단위",      hidden: true},
	               {key: "prodSize",      label: "크기",      hidden: true},
	               {key: "prodUpr",      label: "단가",      hidden: true},
	               {key: "prodUprDt",      label: "단가기준일",      hidden: true},	               
	               {key: "prodRmk",      label: "비고",      hidden: true},
	               {key: "useYn",      label: "사용여부",      hidden: true},
	               {key: "etcField1",      label: "여분필드(고정)",      hidden: true},
	               {key: "etcField2",      label: "여분필드(숫자)",      hidden: true},
	               {key: "etcField3",      label: "여분필드(가변)",      hidden: true},
	               {key: "creatPgm",      label: "생성프로그램ID",      hidden: true},
	               {key: "udtDttm",      label: "최종수정프로그램ID",      hidden: true}
	               
	              ]
	        });
	        return this;
		
	      },
	      setData: function(_pageNo) {
	    	    var targetObj = this.target;
	    	    var formData = {
	    	    		// 조회조건 수정하기
	    	               "coCd" : $("#coCd_S").val(),
	    	               "goodsDiv" : $("#goodsDiv_S").val(),//품목구분
	    	               "prdtCdNm" : $("#prdtCdNm_S").val(),//제품구분 
	    	               "itemDiv" : $("#itemDiv_S").val(),//아이템구분
	    	               "prodCd" : $("#prodCdNm_S").val(),//품번
	    	               "prodNm" : $("#prodNm_S").val(),//품명
	    	               "pageNo" : _pageNo + 1
	      
	    	           }
	    	    //여기를 바꿔야함 "/user/bm/bm10/selectBmPrdtMstrList"
	            postAjax("/user/bm/bm10/selectBmPrdtMstrList", formData, null, function(data){
	                var list = data.resultList;
	                targetObj.setData({
					    list : list,
					    page : {
		                    currentPage : _pageNo,
		                    pageSize : data.paginationInfo.pageSize,
		                    totalElements : data.paginationInfo.totalRecordCount,
		                    totalPages : data.paginationInfo.totalPageCount
					    } 
					});
	                setBmPrdtMstr(list);
	            });
	    	    
	      } 
	}
	var excelView = {
		initView: function(){
		this.target = new ax5.ui.grid();
		this.target.setConfig({
		target: $('[data-ax5grid="excel-grid"]'), 
		columns: [
			{key: "coCdNm", 		label: "회사",		hidden: true},
     	   {key: "rn",      label: "No.",          align: "center",   width: 60},
            {key: "prodCd",      label: "품번",	align: "center",   width: 130},
            {key: "prodNm",      label: "품명",      align: "left",   width: 130},
            {key: "goodsDivNm",      label: "품목구분",      align: "center",   width: 130},
            {key: "prdtCd",      label: "제품구분",	align: "center", width: 130},
            {key: "itemDivNm",      label: "아이템구분",	align: "center", width: 130},
            {key: "prodDtlDiv20Nm",      label: "작업구분",      align: "center",   width: 130},
            {key: "prodDtlDiv30Nm",      label: "자체구분",      align: "center",   width: 100},
            {key: "clntPjt",      label: "고객사PJT",      align: "center",   width: 100},
            {key: "creatId",      label: "생성자",      align: "center",   width: 130},
            {key: "creatDttm",      label: "생성일시",      align: "center",   width: 130},
            {key: "udtId",      label: "변경자",      align: "center",   width: 130},
            {key: "udtDttm",      label: "변경일시",      align: "center",   width: 200},	               
            {key: "dsgnDifCodeIdNm",      label: "설계난이도",      hidden: true},
            {key: "prdctnDifCodeIdNm",      label: "생산난이도",      hidden: true},
            {key: "prodWt",      label: "중량",      hidden: true},
            {key: "prodUnit",      label: "단위",      hidden: true},
            {key: "prodSize",      label: "크기",      hidden: true},
            {key: "prodUpr",      label: "단가",      hidden: true},
            {key: "prodUprDt",      label: "단가기준일",      hidden: true},	               
            {key: "prodRmk",      label: "비고",      hidden: true},
            {key: "useYn",      label: "사용여부",      hidden: true},
            {key: "etcField1",      label: "여분필드(고정)",      hidden: true},
            {key: "etcField2",      label: "여분필드(숫자)",      hidden: true},
            {key: "etcField3",      label: "여분필드(가변)",      hidden: true},
            {key: "creatPgm",      label: "생성프로그램ID",      hidden: true},
            {key: "udtDttm",      label: "최종수정프로그램ID",      hidden: true}
           ]
		});
	    return this;
      }
    }
	
	// 그리드 추가, 삭제
    /* $('[data-grid-control]').click(function () {
        switch (this.getAttribute("data-grid-control")) {
            case "row-add":
            	bmPrdtMstrGridView.target.addRow($.extend({}, bmPrdtMstrGridView.target.list.length, {__index: undefined}));
                break;
            case "row-remove":
            	bmPrdtMstrGridView.target.removeRow();
                break;
        }
    }); */	
	
	
	
	// 페이지 로드 - 리스트
	$(document).ready(function() {
		mainDefaultLoad("기준관리", "제품마스터관리");
		setCommonSelect($("#main_area select[data-kind]"));
	
		// 접속자 회사 set - 조회부분
		$("#coCd_S").val(jwt.coCd);
		//$("#coCd_S1").val(jwt.coCd);
		
		//품목구분 기본값 지정 - 조회부분
		$("#goodsDiv_S").val("GOODSDIV01");
		
		// 페이지 가져오기
		bmPrdtMstrGridView.initView().setData(0);
		bmPrdtMstrGridView.target.select(0);
 		console.log();
 		var row = bmPrdtMstrGridView.target.getList()[0]; // Object
 		//  alert(row);
 		excelView.initView();
 		// 그리드값 가져오기 호출
 		getGrid();
	
	})
	
	//초기화
	function initSearch() {
        // datepicker를 제외한 select, input 값 모두 초기화
        $(".contents.search select").val("");
        //$(".contents.search input[type='text']:not(.input_calendar)").val("");
        
        // 회사 초기화 - 여기서 필요한지?! - 일단 삭제함
        //$("#coCd_S").val(jwt.coCd);  
        
        // 날짜 초기화
        //$('#wbsPlansDt').datepicker("setDate", moment(new Date()).startOf("month").toDate());
        //$('#wbsPlaneDt').datepicker("setDate", moment(new Date()).endOf("month").toDate());      
        
        // 상세정보 초기화
		//$(".contents select").val("");
		//$(".contents select input[type='text']").val("");
        
		// 상세정보 초기화
		$.each($('#main_area [data-kind]'), function(idx, elem) {
            
			$(elem).val("");
			
        });
		
		//초기화 클릭시 회사, 품목구분은 기본값 지정
		$("#coCd_S").val(jwt.coCd);
		$("#goodsDiv_S").val("GOODSDIV01");
		
		// 재검색
		//bmPrdtMstrGridView.setData(0);
	}
    
	
	//제품구분 검색 
	function openPrdtSearch(){
		var paramObj = {
				
// 				"coCd": $('#coCd_S').val(), 
// 				"prdtCd": $('#prdtCd_S').val(),
// 				"prdtNm": $('#prdtCdNm_S').val(),				
				"searchValue" : $("#prdtCdNm_S").val()
				//"useYn" : "Y"
		}
		openModal("/static/html/cmn/modal/prdtSearch.html", 800, 600, "제품 검색", paramObj, function (grid) {
			var row = grid.target.getList("selected")[0];
			$("#prdtCd_S").val(row.prdtCd);
			$("#prdtCdNm_S").val(row.prdtNm);
		});
	}	
	
	//품번 검색 
	function openProdSearch(){		
		//debugger;	
		var paramObj = {				
// 				"coCd": $('#coCd_S').val(),
			//	"prodCd": $('#prodCd_S').val(),
			//	"prodNm": $('#prodCdNm_S').val(),
 				//"useYn" : "Y"
				"searchValue" : $("#prodCdNm_S").val()
		}
		openModal("/static/html/cmn/modal/prodSearch.html", 800, 600, "품번 검색", paramObj, function (grid) {
				var row = grid.target.getList("selected")[0];
// 				if (openType == "P") {
					$("#prodCd_S").val(row.prodCd);
					$("#prodCdNm_S").val(row.prodNm);
// 			}
		});
	}
	

	//excel다운
	function excelDown() {
		var formData = {
			"coCd" : $("#coCd_S").val(),			
			"pageNo" : 1,
			"recordCnt" : 99999999
		}
		postAjax("/user/bm/bm10/selectBmPrdtMstrList", formData, null, function(
				data) {
			var list = data.resultList;
			excelView.target.setData({
				list : list,
				page : {
					totalElements : list.length,
				}
			});
			var todayDate = new Date().format('yyyyMMddHHmmss');
			excelView.target.exportExcel("제품마스터관리_" + todayDate + ".xls");
		});
	}

	function changeRecordCnt() {
		//alert($("#recordCnt").val());
	}

	// 페이지 로드 시 속성에 값넣기, 값 초기화 / 로드시 입력창에 값 나타냄
	//bm10.xml 필드명 기준으로 camelcase 넣으면 됨다
	function setBmPrdtMstr(list) {
		// list -> grid
		var lst = list;
		// console.log(list);
		// console.log(list.length); 
		if (lst.length !== undefined) {
			$('#fileTrgtKey').val(lst[0].fileTrgtKey); //저장시 해당 키값 05.29
			$('#coCd').val(lst[0].coCd);
			$('#prodCd').val(lst[0].prodCd);
			$('#prodNm').val(lst[0].prodNm);			
			$('#goodsDiv').val(lst[0].goodsDiv).prop("disabled", true);//입력 - 품목구분
			$('#prdtCdNm').val(lst[0].prdtNm);
			$('#itemDiv').val(lst[0].itemDiv).prop("disabled", true);
			$('#prodDtlDiv20').val(lst[0].prodDtlDiv20).prop("disabled", true);
			$('#prodDtlDiv30').val(lst[0].prodDtlDiv30).prop("disabled", true);
			$('#clntPjt').val(lst[0].clntPjt);
			//$('#useYn').val(lst[0].useYn);
			$('#prodUpr').val(lst[0].prodUpr);
			$('#prodUprDt').val(lst[0].prodUprDt).prop("disabled", true);			
		}
		/* $.each($('.contents tbody td'), function(index, item) { 
		    // 상세정보 초기화
			$('.contents select').val("");
			$('.contents input[type="text"]').val("");
		}); */
	}
	
	// Grid값 가져오기 - 클릭시 입력화면에 값 나타나기
	function getGrid() {
		
		var row = bmPrdtMstrGridView.target.getList("selected")[0]; // Object
		
		if (row != undefined) {
			//pk키값 - 번호 //저장시 해당 키값 05.29
			$('#fileTrgtKey').val(row.fileTrgtKey);
			//회사
			$('#coCd').val(row.coCd);
			//품번
			$('#prodCd').val(row.prodCd);
			//품목구분  : 입력 - 품목구분
			$('#goodsDiv').val(row.goodsDiv);
			//품명
			$('#prodNm').val(row.prodNm);	
			//제품구분
			$('#prdtCdNm').val(row.prdtNm);
			//아이템구분
			$('#itemDiv').val(row.itemDiv);
			//작업구분
			$('#prodDtlDiv20').val(row.prodDtlDiv20);
			//자체구분
			$('#prodDtlDiv30').val(row.prodDtlDiv30);
			//고객사PJT
			$('#clntPjt').val(row.clntPjt);		
			//제품단가 
			$('#prodUpr').val(row.prodUpr);
			//단가기준일
			$('#prodUprDt').val(row.prodUprDt);	
			//사용여부
// 			$('#useYn').val(row.useYn);
// 			//설계난이도 
// 			$('#dsgnDifCodeId').val(row.dsgnDifCodeId);
// 			//생산난이도 
// 			$('#prdctnDifCodeId').val(row.prdctnDifCodeId);
// 			//제품중량 
// 			$('#prodWt').val(row.prodWt);
// 			//제품사이즈 
// 			$('#prodSize').val(row.prodSize);
		}
	}
	
	//저장 updateSave
	// formData 활용
    function updateSave() {		
 		
        var formData = new FormData($('#inputForm')[0]);
        $.each($('#inputForm [data-search]'), function(idx, elem) { //inputForm에 있는 data-search값을 찾는다.
            formData.append($(elem).data("search"), $(elem).val()); //해당 값을 formData에 추가
        });

        // 수정자
        formData.append("creatId", jwt.userId);
        // 수정프로그램ID BM0501M01 => BM1001M01
        formData.append("creatPgm", "BM1001M01");
       // formData.append("dsgnDifCodeId", "DSGNDIF40");
        
       //저장시 해당 키값 05.29
        formData.append("fileTrgtKey", $('#fileTrgtKey').val());
        //debugger;
        filePutAjax("/user/bm/bm10/updateBmPrdtMstr", formData,function(data) {
            if (data.resultCode == 200) {            	
                alert(data.resultMessage);
                //modalStack.close();
                bmPrdtMstrGridView.setData(0);
            }
        });
    }
	
</script>