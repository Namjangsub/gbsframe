<style>
	.popup_area {
		font-size: 20px;
		font-weight: 700;
	}
	.popup_area input {
		width: 100%;
		box-sizing: border-box;
		padding-left: 8px;
	}
	.approval-table {
		width: 100%;
		border-collapse: collapse;  /* 셀 경계 합치기 */
		border: 2px solid rgba(166, 234, 234, 0.5);
	}
	.approval-table th,
	.approval-table td {
		border: 2px solid rgba(166, 234, 234, 0.5);
		padding: 6px 8px;
	}
	.approval-table tr:last-child th, .approval-table tr:last-child td {
		border-bottom: 2px solid rgba(166,234,234,0.5);
	}

	.sellerArea {
		border-top:    2px solid rgba(237, 33, 33, 0.5);
		border-bottom: 2px solid rgba(237, 33, 33, 0.5);
	}
	.buyerArea {
		border-top:    2px solid rgb(13, 91, 248);
		border-bottom: 2px solid rgb(13, 91, 248);
	}

	.sellerArea th, .sellerArea table th {
		background-color: rgba(253,213,213,0.5) !important;
		height: 40px;
		font-size: 14px;
		font-weight: 600;
		
	}
	.buyerArea th, .buyerArea table th {
		background-color: rgba(170,220,255,0.5) !important;
		height: 40px;
		font-size: 14px;
		font-weight: 600;
	}
	/* bottom 테이블 */
	.bottom-table input {
		width: 100%;
		box-sizing: border-box;
	}
	.bottom-table input[style*="text-align: left"] {
		padding-left: 8px;
	}
	.bottom-table input[style*="text-align: right"] {
		padding-right: 8px;
	}
	.bottom-table {
		border-collapse: collapse;
	}
	.bottom-table th, .bottom-table td {
		border: 2px solid rgba(166, 234, 234, 0.5);
		padding: 6px 8px; 
		text-align: center;
		height: 40px;
	}
	.bottom-table tr:last-child td {
		border-bottom: 2px solid rgba(166, 234, 234, 0.5);
	}
	.bottom-table th {
		background-color: rgba(200,240,240,0.5) !important;
	}
</style>
<div id="areaHometexPop" class="popup_area of_a" style="width:100%; height:100%;">
	<div class="tit_contents">
		<h4 class="tit">전자세금계산서 상세조회</h4>
	</div>
	<br>
	<table class="approval-table">
		<colgroup>
			<col width="15%">
			<col width="35%">
			<col width="15%">
			<col width="35%">
		</colgroup>
		<tbody>
			<tr>
				<th style="background-color: rgba(200,240,240,0.5) !important; height: 40px; font-size: 14px; font-weight: 600;">승인번호</th>
				<td colspan="3">
					<div style="width:200px;background-color: #e9e9e9;">
						<input type="text" style="width: 100%; background-color: transparent !important;" id="approvalNo" name="approvalNo" readonly>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
	<br>
	<br>
	<span style="font-size: 20px; font-weight: 700; display: flex; align-items: left;">전자세금계산서_일반</span>
	<br>

	<form id="popFormHomeTax" onSubmit="return false;">
		<input type="hidden" id="coCd" name="coCd">
		<table style="display: flex;">
			<colgroup>
				<col width="5%">
				<col width="8%">
				<col width="15%">
				<col width="10%">
				<col width="15%">
				<col width="5%">
				<col width="8%">
				<col width="15%">
				<col width="10%">
				<col width="15%">
			</colgroup>

			<!-- 공급자 -->
			<tbody class="sellerArea">
			<tr>
				<th style="background-color: #ffc8c8 !important; font-size: 15px; font-weight: 600; color: rgba(178, 10, 10, 0.665);">공급자</th>
				<td colspan="3" style="text-align:left; vertical-align:top;">
				<div>
					<table>
					<colgroup>
						<col width="15%">
						<col width="35%">
						<col width="15%">
						<col width="35%">
					</colgroup>
					<tr>
						<th>등록번호</th>
						<td><input type="text" id="sellerRegNo" name="sellerRegNo" readonly></td>
						<th>종사업장번호</th>
						<td><input type="text" id="branchNo" name="branchNo" readonly></td>
					</tr>
					<tr>
						<th>상호</th>
						<td><input type="text" id="sellerCompanyName" name="companyName" readonly></td>
						<th>성명</th>
						<td><input type="text" id="sellerCeoName" name="ceoName" readonly></td>
					</tr>
					<tr>
						<th>사업장</th>
						<td colspan="3"><input type="text" id="sellerBizAddr" name="bizAddr" readonly></td>
					</tr>
					<tr>
						<th>업태</th>
						<td><input type="text" id="sellerBizconNm" name="bizconNm" readonly></td>
						<th>종목</th>
						<td><input type="text" id="sellerBstyNm" name="bstyNm" readonly></td>
					</tr>
					<tr>
						<th rowspan="2" style="height: 80px;">이메일</th>
						<td rowspan="2" colspan="3"><input type="text" id="sellerEmail" name="sellerEmail" readonly></td>
						<td></td>
					</tr>
					</table>
				</div>
				</td>
			</tr>
			</tbody>

			<!-- 공급받는자 -->
			<tbody class="buyerArea">
			<tr>
				<th style="background-color: #8ab0fc !important; font-size: 15px; font-weight: 600; color: rgb(13, 91, 248);">공급받는자</th>
				<td colspan="3" style="text-align:left; vertical-align:top;">
				<div>
					<table>
					<colgroup>
						<col width="15%">
						<col width="35%">
						<col width="15%">
						<col width="35%">
					</colgroup>
					<tr>
						<th>등록번호</th>
						<td><input type="text" id="buyerRegNo" name="buyerRegNo" readonly></td>
						<th>종사업장번호</th>
						<td><input type="text" id="buyerBranchNo" name="branchNo" readonly></td>
					</tr>
					<tr>
						<th>상호</th>
						<td><input type="text" id="buyerCompanyName" name="companyName" readonly></td>
						<th>성명</th>
						<td><input type="text" id="buyerCeoName" name="ceoName" readonly></td>
					</tr>
					<tr>
						<th>사업장</th>
						<td colspan="3"><input type="text" id="buyerBizAddr" name="bizAddr" readonly></td>
					</tr>
					<tr>
						<th>업태</th>
						<td><input type="text" id="buyerBizconNm" name="bizconNm" readonly></td>
						<th>종목</th>
						<td><input type="text" id="buyerBstyNm" name="bstyNm" readonly></td>
					</tr>
					<tr>
						<th>이메일1</th>
						<td colspan="3"><input type="text" id="buyerEmail1" name="buyerEmail1" readonly></td>
					</tr>
					<tr>
						<th>이메일2</th>
						<td colspan="3"><input type="text" id="buyerEmail2" name="buyerEmail2" readonly></td>
					</tr>
					</table>
				</div>
				</td>
			</tr>
			</tbody>

		</table>
		<br>
		<br>
		<table class="bottom-table">
			<colgroup>
				<col width="15%">
				<col width="15%">
				<col width="15%">
				<col width="15%">
				<col width="40%">
			</colgroup>
			<tr>
				<th style="text-align: center;">작성일자</th>
				<th style="text-align: center;">공급가액</th>
				<th style="text-align: center;">세액</th>
				<th style="text-align: center;">수정사유</th>
				<th style="text-align: center;">비고</th>
			</tr>
			<tr>
				<td><input type="text" style="text-align: left;" id="writeDate" name="writeDate" readonly></td>
				<td><input type="text" style="text-align: right;" id="supplyAmt" name="supplyAmt" readonly></td>
				<td><input type="text" style="text-align: right;" id="taxAmt" name="taxAmt" readonly></td>
				<td><input type="text" style="text-align: left;" id="eTaxType" name="eTaxType" readonly></td>
				<td><input type="text" style="text-align: left;" id="remark" name="remark" readonly></td>
			</tr>
		</table>
		</form>

		<!-- 하단 닫기 -->
		<div class="popup_bottom_btn">
			<button type="button" class="close_btn" onclick="modalStack.close();">닫기</button>
		</div>
	</div>

<script type="text/javascript">
	var approvalNo = "";
	var titleCoCd = "";
	var titleBillTypeNm = "";

	$(document).ready(function() {
		approvalNo = modalStack.last().paramObj.approvalNo;
		billType = modalStack.last().paramObj.billType;
		$("#approvalNo").val(approvalNo);
		select_fi30_detail_info();

	});

	function select_fi30_detail_info() {
		postAjaxSync("/user/fi/fi30/select_fi30_detail_info",{ approvalNo: approvalNo, billType: billType },null,function(data) {
            $.each(data.result, function(key, value) {
                if ($('#popFormHomeTax #' + key).length) {
					$('#popFormHomeTax #' + key).val(value);
                    if (key === 'supplyAmt' || key === 'taxAmt') {
						var amtAddComma = addCommaStr(value);
						$('#popFormHomeTax #' + key).val(amtAddComma);
                    }
                }
            });

			titleCoCd = $("#coCd").val() == 'GUN' ?  '건양ITT' : '건양트루넷'
			$('#areaHometexPop .tit').text(titleCoCd + " " + " 전자세금계산서 상세조회 " + '(' + data.result.billTypeNm + ')');	// 제목처리
        });
	}
</script>
