<div id="wbsPopup" class="popup_area of_a" style="width: 100%; height: 100%;">
     <div class="tit_contents">
        <h4 class="tit">년간 사업계획 이력</h4>
    </div>
		<div class="contents">
		    <!-- 리스트 -->
		      <div class="ax5_grid" data-ax5grid="third-grid" data-ax5grid-config="{}" style="height: 650px; width: 100%" ></div>
		</div>
</div>
<script type="text/javascript">
var coCd = null;
var salesPlanClntCd = null;
var salesPlanClntNm = null;
var salesPlanId = null;
var salesPlanNm = null;
var salesPlanDiv = null;

  var preGridView = {
  	initView: function(){
	this.target = new ax5.ui.grid();
	this.target.setConfig({
		showRowSelector: true,
		multipleSelect: false,
		sortable: true,
		target: $('[data-ax5grid="third-grid"]'),
		header: {
             align: "center",
             selector: false
           },
           body: {
			onClick: function () {
			    this.self.select(this.dindex); 
			},
	   },
          page: {
        	  navigationItemCount: 9,
              height: 30,
              display: true,
          },
          columns: [
       	      {key: "rn",      label: "No.",          align: "center",   width: 60},
              {key: "coCd",      label: "회사",          hidden: true},
              {key: "coCdNm",      label: "회사명",      align: "center",   width: 60},
              {key: "salesPlanYy",      label: "계획년도",      align: "center",   width: 80},
              {key: "salesPlanClntCd",      label: "고객사",      hidden: true},
              {key: "salesPlanClntNm",      label: "고객사명",      align: "center",   width: 130},
              {key: "salesPlanId",      label: "영업담당자ID",      hidden: true},
              {key: "salesPlanNm",      label: "영업담당자명",      align: "center",   width: 130},
              {key: "salesPlanDiv",      label: "계획구분ID",     hidden: true},
              {key: "salesPlanDivNm",      label: "계획구분",      align: "center",   width: 80},
              {key: "salesPlanAmt01",      label: "01월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt02",      label: "02월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt03",      label: "03월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt04",      label: "04월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt05",      label: "05월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt06",      label: "06월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt07",      label: "07월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt08",      label: "08월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt09",      label: "09월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt10",      label: "10월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt11",      label: "11월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanAmt12",      label: "12월",     align: "right",   width: 100, formatter: "money"},
              {key: "salesPlanTotAmt",      label: "합계",     align: "right",   width: 100, formatter: "money"}
             ],
             footSum: [
                 [
                     {label: "합계", colspan:6, align: "center"},
                     {key: "salesPlanAmt01", collector: "sum", formatter: "money", align: "right"}, 
                     {key: "salesPlanAmt02", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt03", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt04", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt05", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt06", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt07", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt08", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt09", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt10", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt11", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanAmt12", collector: "sum", formatter: "money", align: "right"},
                     {key: "salesPlanTotAmt", collector: "sum", formatter: "money", align: "right"}
                 ]]
       });
       return this;

     },
     setData : function(_pageNo) {
         var targetObj = this.target;
         var paramObj = {
        		 "coCd": coCd,
        		 "salesPlanClntCd":salesPlanClntCd,
        		 "salesPlanClntNm": salesPlanClntNm,
        		 "salesPlanId": salesPlanId,
        		 "salesPlanNm": salesPlanNm,
        		 "salesPlanDiv": salesPlanDiv
                 };
         postAjax("/user/cr/cr16/selectSalesYearPlanListHist", paramObj, null, function(data){
             var list = data.fileList;
                 targetObj.setData({
                     list : list,
                     page : {
                    	 totalElements : list.length,
                     }
                 });
         });
     } 
}
     
$(document).ready(function() {
	coCd = modalStack.last().paramObj.coCd;
	salesPlanClntCd = modalStack.last().paramObj.salesPlanClntCd;
	salesPlanClntNm = modalStack.last().paramObj.salesPlanClntNm;
	salesPlanId = modalStack.last().paramObj.salesPlanId;
	salesPlanNm = modalStack.last().paramObj.salesPlanNm;
	salesPlanDiv = modalStack.last().paramObj.salesPlanDiv;	
	preGridView.initView().setData(0);
})

</script>
