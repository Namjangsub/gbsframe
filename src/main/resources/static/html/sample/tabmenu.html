<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script type="text/javascript" src="/static/js/jquery-latest.min.js"></script>
	<script type="text/javascript" src="/static/js/tinymce/tinymce.min.js"></script>
<link rel="stylesheet" href="/static/css/jstree/style.min.css">
<script type="text/javascript" src="/static/js/jstree/jstree.min.js"></script>
<link rel="stylesheet" href="/static/css/gnb.css">
<link rel="stylesheet" href="/static/css/main.css">
<link rel="stylesheet" href="/static/css/sub.css">
<link rel="stylesheet" href="/static/css/common.css">
<link rel="stylesheet" href="/static/css/ax5/ax5grid.css">
<link rel="stylesheet" href="/static/css/ax5/ax5mask.css">
<link rel="stylesheet" href="/static/css/ax5/ax5modal.css">
<link rel="stylesheet" href="/static/css/ax5/ax5toast.css">
<script type="text/javascript" src="/static/js/ax5/ax5core.min.js"></script>
<script type="text/javascript" src="/static/js/ax5/ax5grid.min.js"></script>
<script type="text/javascript" src="/static/js/ax5/ax5mask.min.js"></script>
<script type="text/javascript" src="/static/js/ax5/ax5modal.min.js"></script>
<script type="text/javascript" src="/static/js/ax5/ax5toast.min.js"></script>
<script src="/static/js/global.js"></script>
<script src="/static/js/fileTree.js"></script>

 
    <style>
		html,body {width:100%;  }
		body,div,ul,li{margin:0; padding:0;}
		ul,li {list-style:none;}
		
		/*tab css*/
		.tab{float:left; width:100%; height:290px; margin-bottom: 20px; /* 탭과 아래 컨텐츠 사이 여백 */}
		.tabnav{font-size:0; width:100%; border:1px solid #ddd;margin-bottom: -1px; /* 중복 경계 제거 */}
		.tabnav li{display: inline-block;  height:30px; text-align:center; border-right:1px solid #ddd;}
		.tabnav li a:before{content:""; position:absolute; left:0; top:0px; width:100%; height:3px; }
		.tabnav li a.active:before{background:#7ea21e;}
		.tabnav li a.active{border-bottom:1px solid #fff;}
		.tabnav li a{ position:relative; display:block; background: #f8f8f8; color: #000; padding:0 10px; line-height:30px; text-decoration:none; font-size:12px;}
		.tabnav li a:hover,
		.tabnav li a.active{background:#fff; color:#7ea21e; }
		.tabcontent{padding: 2px; height:600px; border:1px solid #ddd; border-top:none; }
		
        .tabcontainer {
            margin-top: 20px; /* 탭 컨텐츠와 상단 사이의 여백 */
        }
        .ax-modal-body { overflow-y: auto; /* 세로 스크롤바 생성 */ }
        #fileList_area {
            margin-top: 20px; /* fileList_area 상단 여백 */
        }
    </style>
</head>


<body style="padding: 0px; overflow-y: auto;">

	<form id="popForm" onSubmit="return false;">
	<input type="hidden" id="fileTrgtKey"  	name="fileTrgtKey">
	<input type="hidden" id="userId"     	name="userId">
	<input type="hidden" id="pgmId"     	name="pgmId"	value="SM1101P01">
	<input type="hidden" id="ordrgMngNm"	name="creatNm" value="">		<!-- 알림톡발송용 생성자명(발주담당자) -->
	<input type="hidden" id="ordrgMngTelNo"	name="ordrgMngTelNo" value="">		<!-- 알림톡발송용 생성자전화번호 -->		
	
    	<div class="popup_area of_a" style="width: 100%; height: 100%;">
		    <div class="tit_contents">
		      <h4 class="tit">설비 기본정보</h4>
		    </div>
			    <div class="form-group popup_table">
			 		<table>
			
			        <colgroup>
			          <col width="10%">
			          <col width="23%">
			          <col width="11%">
			          <col width="23%">
			          <col width="10%">
			          <col width="23%">
			          <col width="10%">
			          <col width="23%">
			        </colgroup>
			        <tr>
						<th class="hit">회사</th>
						<td>
							<select id="coCd" name="coCd" data-kind="CO" class="form-control" required msg="회사">
							</select>
						</td>
						<th>계약번호</th>
						<td>
							<input type="text"  id="ctrtNo" name="ctrtNo" readonly="readonly">
						</td>
						<th></th>
						<td></td>
						<th></th>
						<td></td>
			
			        </tr>
			
			        <tr>
						<th class="hit">수주번호</th>
						<td>
							<div class="search_form" >
								<input type="hidden"  id="ordrsCoCd" name="ordrsCoCd"  readonly="readonly">
								<input type="text"  id="ordrsNo" name="ordrsNo" readonly="readonly" required msg="수주번호">
								<a onclick="popOpendOrdrsSearch($('#ordrsNo').val(), $('#coCd').val());"><i class="i_search_w" ></i></a>
							</div>
						</td>
						<th>발주요청번호</th>
						<td>
							<div class="search_form" >
								<input type="text"  id="reqNo" name="reqNo" readonly="readonly" msg="발주요청번호">
								<a id="reqNoBtn" onclick="openPurchaseSearch();"><i class="i_search_w"></i></a>
							</div>
						</td>
						<th>고객사</th>
						<td><input type="hidden" id="clntCd" name="clntCd" msg="고객사">
							<input type="text" id="clntNm" name="clntNm" msg="고객사" class="form-control" readonly>
						</td>
						<th>고객사PJT</th>
						<td><input type="hidden" id="clntPjt" name="clntPjt" msg="고객사PJT">
							<input type="text" id="clntPjtNm" name="clntPjtNm" msg="고객사PJT" class="form-control"> 
						</td>
			
			        </tr>
			        <tr>
						<th class="hit">계약일자</th>
						<td>
							<input id="ctrtDt" name="ctrtDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);" required date onchange="monthCloseChk(this.value,'', $('#coCd').val());">
						</td>
			            <th class="hit" title="담당자 정보를 확인합니다">담당자</th>
			            <td>
			                <div class="search_form">
			                    <input type="text" id="mngIdNm" name="mngIdNm" onkeydown="if(event.keyCode==13)openUserTree( this.value);" required>
			                    <input type="hidden" id="mngId" name="mngId" required msg="담당자"> <a onclick="openUserTree( document.getElementById('mngIdNm').value);"><i class="i_search_w"></i></a>
			                </div>
			            </td>
						<th class="hit">프로젝트명</th>
						<td colspan=3>
							<input type="text" id="ctrtNm" name="ctrtNm" msg="프로젝트명" class="form-control" required> 
						</td>
			        </tr>
			</table>
			</div>
		</div>
	
	
	
  <div class="tab">
    <ul class="tabnav">
      <li><a href="#tab01">PFU 기본정보</a></li>
      <li><a href="#tab02">PFU 제품정보</a></li>
    </ul>
    
<!-- 	Tab 컨텐츠 -->
    <div class="tabcontent">
      <div id="tab01">
	      <div class="popup_area of_a" style="width: 100%; height: 100%;">
		    <div class="tit_contents">
		      <h4 class="tit">PFU 기본정보</h4>
		    </div>
			    <div class="form-group popup_table">
			 		<table>
			
			        <colgroup>
			          <col width="10%">
			          <col width="23%">
			          <col width="11%">
			          <col width="23%">
			          <col width="10%">
			          <col width="23%">
			          <col width="10%">
			          <col width="23%">
			        </colgroup>
			
			        <tr>
						<th class="hit">회사</th>
						<td>
							<select id="coCd" name="coCd" data-kind="CO" class="form-control" required msg="회사">
							</select>
						</td>
						<th>계약번호</th>
						<td>
							<input type="text"  id="ctrtNo" name="ctrtNo" readonly="readonly">
						</td>
						<th></th>
						<td></td>
						<th></th>
						<td></td>
			
			        </tr>
			
			        <tr>
						<th class="hit">수주번호</th>
						<td>
							<div class="search_form" >
								<input type="hidden"  id="ordrsCoCd" name="ordrsCoCd"  readonly="readonly">
								<input type="text"  id="ordrsNo" name="ordrsNo" readonly="readonly" required msg="수주번호">
								<a onclick="popOpendOrdrsSearch($('#ordrsNo').val(), $('#coCd').val());"><i class="i_search_w" ></i></a>
							</div>
						</td>
						<th>발주요청번호</th>
						<td>
							<div class="search_form" >
								<input type="text"  id="reqNo" name="reqNo" readonly="readonly" msg="발주요청번호">
								<a id="reqNoBtn" onclick="openPurchaseSearch();"><i class="i_search_w"></i></a>
							</div>
						</td>
						<th>고객사</th>
						<td><input type="hidden" id="clntCd" name="clntCd" msg="고객사">
							<input type="text" id="clntNm" name="clntNm" msg="고객사" class="form-control" readonly>
						</td>
						<th>고객사PJT</th>
						<td><input type="hidden" id="clntPjt" name="clntPjt" msg="고객사PJT">
							<input type="text" id="clntPjtNm" name="clntPjtNm" msg="고객사PJT" class="form-control"> 
						</td>
			
			        </tr>
			        <tr>
						<th class="hit">계약일자</th>
						<td>
							<input id="ctrtDt" name="ctrtDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);" required date onchange="monthCloseChk(this.value,'', $('#coCd').val());">
						</td>
			            <th class="hit" title="담당자 정보를 확인합니다">담당자</th>
			            <td>
			                <div class="search_form">
			                    <input type="text" id="mngIdNm" name="mngIdNm" onkeydown="if(event.keyCode==13)openUserTree( this.value);" required>
			                    <input type="hidden" id="mngId" name="mngId" required msg="담당자"> <a onclick="openUserTree( document.getElementById('mngIdNm').value);"><i class="i_search_w"></i></a>
			                </div>
			            </td>
						<th class="hit">프로젝트명</th>
						<td colspan=3>
							<input type="text" id="ctrtNm" name="ctrtNm" msg="프로젝트명" class="form-control" required> 
						</td>
			        </tr>
			
			        <tr>
						<th class="hit">계약업체</th>
						<td>
							<div class="search_form">
							<input type="hidden" id="vendCd" name="vendCd" required msg="계약업체">
								<input type="text" id="vendNm" name="vendNm"  onkeyup="event.keyCode == 8 ? vendCd.value = '' : event.keyCode == 13 ? clntSearch() : ''" required msg="계약업체">
									<a onclick="clntSearch();"><i class="i_search_w"></i></a>
							</div>
						</td>
						<th>지급조건</th>
						<td>
				            <select id="ctrtPmntMtdCd" name="ctrtPmntMtdCd" class="form-control" data-kind="PMNTMTD" msg="지급조건">
				            </select>
						</td>
						<th class="hit">통화단위</th>
						<td>
							<select id="currCd" name="currCd" data-kind="CURR" class="form-control" required msg="통화단위">
							</select>
						</td>
						<th class="hit">환율</th>
						<td>
							<input type="text" id="exrate" name="exrate" class="form-control" onkeyup="chechChange(this);" comma required msg="환율">
						</td>
			        </tr>
			
			        <tr>
						<th  class="hit">계약금액</th>
						<td>
							<input type="text" id="ctrtAmt" name="ctrtAmt" class="form-control" onkeyup="chechChange(this);" comma required msg="계약금액">
						</td>
						<th class="hit">결제일자</th>
						<td>
				            <select id="ctrtClmnDay" name="ctrtClmnDay" class="form-control" required msg="결제일자">
				            	<option value="10">10일 결제</option>
				            	<option value="25" selected>25일 결제</option>
				            </select>
						</td>
						<th>결제방법</th>
						<td>
				            <select id="ctrtClmnDivCd" name="ctrtClmnDivCd" class="form-control" msg="결제방법">
				            	<option value="CLMNDIV04" data-rprc="MON" data-etc="1" data-desc="수금조건" data-dz-code="undefined">익월</option>
				            </select>
						</td>
						
						<th>부가세</th>
						<td>
							<select class="form-control input-sm" id="ctrtClmnVat" name="ctrtClmnVat" data-kind="VAT">
							</select>
						</td>
						<th></th>
						<td></td>
			        </tr>
			        
			        <tr>
						<th>발주서</th>
						<td>
							<input id="ctrtOrdrsDt" name="ctrtOrdrsDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);"  date>
						</td>
						<th>계약이행</th>
						<td>
							<input id="ctrtPfmcDt" name="ctrtPfmcDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);"  date>
						</td>
						<th>선급이행</th>
						<td>
							<input id="ctrtBfPfmcDt" name="ctrtBfPfmcDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);"  date>
						</td>
						<th>하자이행</th>
						<td>
							<input id="ctrtAfPfmcDt" name="ctrtAfPfmcDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);"  date>
						</td>
			        </tr>
			
			        <tr>
						<th>납기일자</th>
						<td>
							<input id="dudtIntendDt" name="dudtIntendDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);" date>
						</td>
						<th>공급사담당자</th>
						<td>
							<input type="text" class="form-control" id="vendMngNm" name="vendMngNm">
						</td>
						<th>전화</th>
						<td>
							<input type="text" class="form-control" id="vendTelNo" name="vendTelNo" onkeyup="telNumberFormatter(this);" maxlength="13">
						</td>
						<th>FAX</th>
						<td>
							<input type="text" class="form-control" id="vendFaxNo" name="vendFaxNo" onkeyup="telNumberFormatter(this);" maxlength="13">
						</td>
			        </tr>
			        <tr>
						<th>품목</th>
						<td colspan = 3>
						<div class="checkbox-container">
							<input type="checkbox" id="CTRITEM01" name="ctrtItem" value="CTRITEM01" data-label="설계"> 설계 
							<input type="checkbox" id="CTRITEM02" name="ctrtItem" value="CTRITEM02" data-label="제작"> 제작
							<input type="checkbox" id="CTRITEM03" name="ctrtItem" value="CTRITEM03" data-label="공사건"> 공사건
							<input type="checkbox" id="CTRITEM04" name="ctrtItem" value="CTRITEM04" data-label="슈퍼바이저"> 슈퍼바이저
							<input type="checkbox" id="CTRITEM05" name="ctrtItem" value="CTRITEM05" data-label="A/S"> A/S
							<input type="checkbox" id="CTRITEM06" name="ctrtItem" value="CTRITEM06" data-label="단품티칭"> 단품티칭
							<input type="checkbox" id="CTRITEM99" name="ctrtItem" value="CTRITEM99" data-label="기타"> 기타
						</div>
						</td>
						<th>휴대폰</th>
						<td>
							<input type="text" class="form-control" id="vendHpNo" name="vendHpNo" onkeyup="telNumberFormatter(this);" maxlength="13">
						</td>
						<th>E-Mail</th>
						<td>
							<input type="text" class="form-control" id="vendMngMail" name="vendMngMail">
						</td>
			        </tr>
			        <tr>
			        	<th>비고</th>
						<td colspan="7">
<!-- 							<textarea class="form-control" id="ctrtRmk" name="ctrtRmk" msg="비고" style="height: 60px;" maxlength="500"></textarea> -->
							<textarea id="ctrtRmk">Hello, World!</textarea>
						</td>			
			        </tr>
			      </table>
			      
				<div class="contents_tit" style="margin-bottom: 0px; padding-top: 5px;"">
					<div style="float: left">
						<span style="font-size: 15px; margin-left: 10px; font-weight: bold;">※ 지급 정보</span>
					</div>
					<div style="float: right" class="add_btn_small pdl10">
						<a id="addPaymentButton" style="height: 20px; line-height: 18px">+</a>
						<a id="deletePaymentButton" style="height: 20px; line-height: 18px">-</a>
					</div>
				</div>
			
				<!-- 콘텐츠1 -->
				<div class="contents_tit">
					<!-- 리스트 -->
					<div class="ax5_grid">
						<div data-ax5grid="first-grid-modal" data-ax5grid-config="{}"style="height: 180px; width: 100%"></div>
					</div>
				</div>
			      
			      
			      <div id="turnKeyGrid" class="ax5_grid" data-ax5grid="turnKey-grid" data-ax5grid-config="{}" style="height: 200px;"></div>
			      </div>
      	</div>
      
      </div>
      
      <div id="tab02">
      tab2 content
      
		<div class="popup_area of_a" style="width: 100%; height: 100%;">
		    <div class="tit_contents">
		      <h4 class="tit">PFU 제품정보</h4>
		    </div>
		
		 		<table>
		        <colgroup>
		          <col width="10%">
		          <col width="23%">
		          <col width="10%">
		          <col width="23%">
		          <col width="10%">
		          <col width="24%">
		<!--           <col width="11%"> -->
		<!--           <col width="14%"> -->
		        </colgroup>
		
		        <tr>
					<th class="hit">회사</th>
					<td>
						<select id="coCd" name="coCd" data-kind="CO" class="form-control" required msg="회사">
						</select>
					</td>
					<th>수주번호</th>
					<td>
						<div class="search_form" >
							<input type="text"  id="ordrsNo" name="ordrsNo" data-search="ordrsNo" readonly="readonly">
							<a onclick="popOpendOrdrsSearch($('#ordrsNo').val(), $('#coCd').val());"><i class="i_search_w" ></i></a>
						</div>
					</td>
					<th>수주번호-회사</th>
					<td>
						<input type="text"  id="ordrsCoCdNm" name="ordrsCoCdNm" readonly="readonly">
						<input type="hidden"  id="ordrsCoCd" name="ordrsCoCd"  data-search="ordrsCoCd"  readonly="readonly">
					</td>
		<!-- 			<th class="hit">SalesCode</th> -->
		<!-- 			<td> -->
		<!-- 				<div class="search_form"> -->
		<!-- 				    <input type="text" id="salesCd" name="salesCd" required onkeyup="event.keyCode == 13 ? gridView.setData(0) : ''"> -->
		<!-- 				   	<a onclick="wbsSalesCodeSearch();"><i class="i_search_w"></i></a> -->
		<!-- 			    </div> -->
		<!-- 			</td> -->
		        </tr>
		        <tr>
					<th>고객사PJT</th>
					<td><input type="hidden" id="clntPjtCd" name="clntPjtCd" msg="고객사PJT">
						<input type="text" id="clntPjt" name="clntPjt" msg="고객사PJT" class="form-control"> 
					</td>
					<th>고객사</th>
					<td><input type="hidden" id="vendCd" name="vendCd" msg="고객사">
						<input type="text" id="vendNm" name="vendNm" msg="고객사" class="form-control">
					</td>
					<th>계약명</th>
					<td>
						<input type="text" id="ctrtNm" name="ctrtNm" msg="고객사PJT" class="form-control"> 
					</td>
		<!-- 			<th>제품구분</th> -->
		<!-- 			<td> -->
		<!-- 				<input type="hidden" id="prdtCd" name="prdtCd"> -->
		<!-- 				<input type="text" id="prdtNm" name="prdtNm" class="form-control"> -->
		
		<!-- 			</td> -->
		        </tr>
		
		<!--         <tr> -->
		<!-- 			<th>설비명</th> -->
		<!-- 			<td> -->
		<!-- 				<input type="text" id="eqpNm" name="eqpNm" class="form-control"> -->
		<!-- 			</td> -->
		<!-- 			<th>아이템구분</th> -->
		<!-- 			<td> -->
		<!-- 				<input type="hidden" id="itemDiv" name="itemDiv"> -->
		<!-- 				<input type="text" id="itemDivNm" name="itemDivNm" class="form-control"> -->
		<!-- 			</td> -->
		<!-- 			<td colspan=2> -->
		<!-- 			</td> -->
		<!--         </tr> -->
		
		        <tr>
		        	<th colspan=6 style="height: 50px"">비용정보</th>
		        </tr>
		
		        <tr>
					<th class="hit">처리일자</th>
					<td>
						<input id="costDt" name="costDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);" required date onchange="monthCloseChk(this.value);">
					</td>
					<th>발주 요청번호</th>
					<td>
						<div class="search_form">
							<input type="text" id="reqNo" name="reqNo" onkeyup="event.keyCode == 8 ? reqNo.value = '' : event.keyCode == 13 ? openPurchaseSearch() : ''" readonly msg="발주 요청번호"> 
							<a id="reqNoBtn" onclick="openPurchaseSearch();"><i class="i_search_w"></i></a>
						</div>
					</td>
					<th>비용번호</th>
					<td>
						<input type="text"  id="costNo" name="costNo" class="form-control" msg="비용번호">
					</td>
		        </tr>
		
		        <tr>
					<th class="hit">거래처</th>
					<td>
						<input type="hidden" id="pchsClntCd" name="pchsClntCd"required msg="거래처">
						<div class="search_form">
							<input type="text" id="pchsClntNm" name="pchsClntNm"  onkeyup="event.keyCode == 8 ? pchsClntCd.value = '' : event.keyCode == 13 ? clntSearch() : ''" required msg="거래처">
								<a onclick="clntSearch();"><i class="i_search_w"></i></a>
						</div>
					</td>
					<th>지급조건</th>
					<td>
			            <select id="pchsPmntMtdCd" name="pchsPmntMtdCd" class="form-control" data-kind="PMNTMTD" msg="지급조건">
			            </select>
					</td>
					<th>매입확정번호</th>
					<td>
						<input type="text"  id="pchsNo" name="pchsNo"  msg="매입확정번호" class="form-control" readonly>
					</td>
		        </tr>
		
		        <tr>
					<th class="hit">비용구분</th>
					<td>
			            <select id="pchsCostDiv10" name="pchsCostDiv10" class="form-control" data-kind="PCHSCOSTDIV10" required msg="비용구분" onchange="pchsCostDiv10Change(this.value);">
		<!-- 	            	<option value="">선택</option> -->
			            </select>
					</td>
					<th>지급방법</th>
					<td>
		<!-- 	            <select id="pchsClmnDivCd" name="pchsClmnDivCd" class="form-control"  data-kind="CLMNDIV"  required msg="지급방법"> -->
			            <select id="pchsClmnDivCd" name="pchsClmnDivCd" class="form-control" msg="지급방법">
		<!-- 	            	<option value="">선택</option> -->
			            	<option value="CLMNDIV04" data-rprc="MON" data-etc="1" data-desc="수금조건" data-dz-code="undefined">익월</option>
			            </select>
					</td>
					<th class="hit">지급일자</th>
					<td>
			            <select id="pchsClmnDay" name="pchsClmnDay" class="form-control" required msg="지급일자">
			            	<option value="10">10일 결제</option>
			            	<option value="25" selected>25일 결제</option>
			            </select>
					</td>
		        </tr>
		
		        <tr>
					<th class="hit">비용상세구분</th>
					<td>
						<select id="pchsCostDiv20" name="pchsCostDiv20" class="form-control" data-kind="PCHSCOSTDIV20" required msg="비용상세구분">
		<!-- 					<option value="">선택</option> -->
						</select>
					</td>
					<th  class="hit">청구/영수구분</th>
					<td>
						<select id="payDiv" name="payDiv" class="form-control" data-kind="PAYDIV" required msg="청구/영수구분">
		<!-- 					<option value="">선택</option> -->
						</select>
					</td>
					<th class="hit">통화단위</th>
					<td>
						<select id="currCd" name="currCd" data-kind="CURR" class="form-control" required msg="통화단위">
		<!-- 					<option value="">선택</option> -->
						</select>
					</td>
		        </tr>
		        <tr>
					<th  class="hit">금액</th>
					<td>
						<input type="text" id="costAmt" name="costAmt" class="form-control" comma required msg="금액" onkeyup="chechChange(this);" >
					</td>
					<th>영수일자</th>
					<td>
						<input id="payDivDt" name="payDivDt" class="input_calendar form-control" autocomplete="off" onkeyup="dateMask(this);" date msg="지급일자">
					</td>
					<th class="hit">환율</th>
					<td>
						<input type="text" id="exrate" name="exrate" class="form-control" comma required msg="환율" onkeyup="chechChange(this);" >
					</td>
		<!-- 			<th class="hit">품번</th> -->
		<!-- 			<td> -->
		<!-- 				<div class="search_form"> -->
		<!-- 	            	<input type="text" id="matrCd" name="matrCd" class="form-control" required msg="품번"> -->
		<!-- 					<a onclick="openMatListSearch('P');"><i class="i_search_w"></i></a> -->
		<!-- 				</div> -->
		<!-- 			</td> -->
		<!-- 			<th>품명</th> -->
		<!-- 			<td> -->
		<!-- 				<input type="text" id="matrNm" name="matrNm" class="form-control" msg="품명"> -->
		<!-- 			</td> -->
		<!-- 			<td colspan=2> -->
					</td>
		        </tr>
		        <tr class="turnKeyItemDiv" style="display: none;">
					<th>외주품목</th>
					<td colspan = 3>
					<div class="checkbox-container" style="text-align: left;" readonly>
						<input type="checkbox" id="CTRITEM01" name="ctrtItem" value="CTRITEM01" class="readonly-checkbox" data-label="설계"> 설계 
						<input type="checkbox" id="CTRITEM02" name="ctrtItem" value="CTRITEM02" class="readonly-checkbox" data-label="제작"> 제작
						<input type="checkbox" id="CTRITEM03" name="ctrtItem" value="CTRITEM03" class="readonly-checkbox" data-label="공사건"> 공사건
						<input type="checkbox" id="CTRITEM04" name="ctrtItem" value="CTRITEM04" class="readonly-checkbox" data-label="슈퍼바이저"> 슈퍼바이저
						<input type="checkbox" id="CTRITEM05" name="ctrtItem" value="CTRITEM05" class="readonly-checkbox" data-label="A/S"> A/S
						<input type="checkbox" id="CTRITEM06" name="ctrtItem" value="CTRITEM06" class="readonly-checkbox" data-label="단품티칭"> 단품티칭
						<input type="checkbox" id="CTRITEM99" name="ctrtItem" value="CTRITEM99" class="readonly-checkbox" data-label="기타"> 기타
					</div>
					</td>
					<th>외주계약명</th>
					<td><input type="text" id="ctrtCtrtNm" name="ctrtCtrtNm"  readonly></td>
		        </tr>
		        <tr class="turnKeyItemDiv" style="display: none;">
		        	<th>외주내용</th>
					<td colspan="5">
						<textarea id="ctrtCtrtRmk" name="ctrtCtrtRmk"  msg="외주내용" style="height: 50px;" readonly></textarea>
					</td>	
		        </tr>
		        <tr>
		        	<th>비고</th>
					<td colspan="5">
						<textarea class="form-control" id="costRmk" name="costRmk"  msg="비고" style="height: 60px;" maxlength="500"></textarea>
					</td>			
		        </tr>
		      </table>
		      <div id="turnKeyGrid" class="ax5_grid" data-ax5grid="turnKey-grid" data-ax5grid-config="{}" style="height: 300px;"></div>
		      </div>
		      
		</div>
      </div>
  </div><!--tab-->

	<!-- 공통 파일 영역 -->
	<div id="fileList_area"></div>
</form>

	
    <!-- 하단 버튼 -->
	<div class ="popup_bottom_btn">
		<button type="button" id="actionBtn" authChk>등록</button>
		<button type="button" class="close_btn" onclick="modalStack.close();">닫기</button>
		<button type="button" class="close_btn" onclick="setReportMain();"><i class="fas fa-envelope"></i> PFU 출력</button>
		<button type="button" id="mailSendBtn" onclick="sendMailCall();" authChk><i class="fas fa-envelope"></i> 기타발주서메일</a></button>
	</div>

<script>
var fileTrgtKey = 0;
	$(function(){
		//TAB Menu Control Start-----------------
		$('.tabcontent > div').hide();
		$('.tabnav a').click(function () {
			$('.tabcontent > div').hide().filter(this.hash).fadeIn();
			$('.tabnav a').removeClass('active');
			$(this).addClass('active');
			return false;
		}).filter(':eq(0)').click();
		//TAB Menu Control End-----------------
		
		

	    // tinymce html 편집기 start ----------------------------------------------------------
	    var plugins = [
	        "advlist", "autolink", "lists", "link", "image", "charmap", "print", "preview", "anchor",
	        "searchreplace", "visualblocks", "code", "fullscreen", "insertdatetime", "media", "table",
	        "code", "help", "wordcount", "save"
	    ];
	    var edit_toolbar = 'formatselect fontselect fontsizeselect |'
	               + ' forecolor backcolor |'
	               + ' bold italic underline strikethrough |'
	               + ' alignjustify alignleft aligncenter alignright |'
	               + ' bullist numlist |'
	               + ' table tabledelete |'
	               + ' link image';

	    tinymce.init({
//	     	language: "ko_KR", //한글판으로 변경
	    	license_key: 'gpl',
	        selector: '#ctrtRmk',
	        height: 300,
	        menubar: false,
	        plugins: plugins,
	        toolbar: edit_toolbar,
	        
	        /*** image upload ***/
	        image_title: true,
	        /* enable automatic uploads of images represented by blob or data URIs*/
	        automatic_uploads: true,
	        /*
	            URL of our upload handler (for more details check: https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_url)
	            images_upload_url: 'postAcceptor.php',
	            here we add custom filepicker only to Image dialog
	        */
	        file_picker_types: 'image',
	        /* and here's our custom image picker*/
	        file_picker_callback: function (cb, value, meta) {
	            var input = document.createElement('input');
	            input.setAttribute('type', 'file');
	            input.setAttribute('accept', 'image/*');

	            /*
	            Note: In modern browsers input[type="file"] is functional without
	            even adding it to the DOM, but that might not be the case in some older
	            or quirky browsers like IE, so you might want to add it to the DOM
	            just in case, and visually hide it. And do not forget do remove it
	            once you do not need it anymore.
	            */
	            input.onchange = function () {
	                var file = this.files[0];

	                var reader = new FileReader();
	                reader.onload = function () {
	                    /*
	                    Note: Now we need to register the blob in TinyMCEs image blob
	                    registry. In the next release this part hopefully won't be
	                    necessary, as we are looking to handle it internally.
	                    */
	                    var id = 'blobid' + (new Date()).getTime();
	                    var blobCache =  tinymce.activeEditor.editorUpload.blobCache;
	                    var base64 = reader.result.split(',')[1];
	                    var blobInfo = blobCache.create(id, file, base64);
	                    blobCache.add(blobInfo);

	                    /* call the callback and populate the Title field with the file name */
	                    cb(blobInfo.blobUri(), { title: file.name });
	                };
	                reader.readAsDataURL(file);
	            };
	            input.click();
	        },
	        /*** image upload ***/
	        
	        content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:10px }'
	    });


	    tinymce.init({
	     	language: "ko_KR", //한글판으로 변경
	    	license_key: 'gpl',
	        selector: '#costRmk',
	        height: 300,
	        menubar: false,
	        plugins: plugins,
	        toolbar: edit_toolbar,
	        
	        /*** image upload ***/
	        image_title: true,
	        /* enable automatic uploads of images represented by blob or data URIs*/
	        automatic_uploads: true,
	        /*
	            URL of our upload handler (for more details check: https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_url)
	            images_upload_url: 'postAcceptor.php',
	            here we add custom filepicker only to Image dialog
	        */
	        file_picker_types: 'image',
	        /* and here's our custom image picker*/
	        file_picker_callback: function (cb, value, meta) {
	            var input = document.createElement('input');
	            input.setAttribute('type', 'file');
	            input.setAttribute('accept', 'image/*');

	            /*
	            Note: In modern browsers input[type="file"] is functional without
	            even adding it to the DOM, but that might not be the case in some older
	            or quirky browsers like IE, so you might want to add it to the DOM
	            just in case, and visually hide it. And do not forget do remove it
	            once you do not need it anymore.
	            */
	            input.onchange = function () {
	                var file = this.files[0];

	                var reader = new FileReader();
	                reader.onload = function () {
	                    /*
	                    Note: Now we need to register the blob in TinyMCEs image blob
	                    registry. In the next release this part hopefully won't be
	                    necessary, as we are looking to handle it internally.
	                    */
	                    var id = 'blobid' + (new Date()).getTime();
	                    var blobCache =  tinymce.activeEditor.editorUpload.blobCache;
	                    var base64 = reader.result.split(',')[1];
	                    var blobInfo = blobCache.create(id, file, base64);
	                    blobCache.add(blobInfo);

	                    /* call the callback and populate the Title field with the file name */
	                    cb(blobInfo.blobUri(), { title: file.name });
	                };
	                reader.readAsDataURL(file);
	            };
	            input.click();
	        },
	        /*** image upload ***/
	        
	        content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:10px }'
	    });


	    $("#save").on("click", function(){
	        var content = tinymce.activeEditor.getContent();
	        console.log(content);
	    });
	    // tinymce html 편집기 end ----------------------------------------------------------


		
		//---------------------------------------------------------------  
		//첨부 화일 처리 시작 
		//---------------------------------------------------------------  
		fileParam = {
				fileTrgtTyp	: $("#popForm #pgmId").val(),
				fileTrgtKey		:fileTrgtKey
		}
  		treeModule.initAll('deptTreeOrdars', 'file-grid', 'FILETREE', fileParam);
		//---------------------------------------------------------------  
		//첨부 화일 처리 끝
		//---------------------------------------------------------------  

		authChk();						// 권한체크

	});

		debugger;
 	// 출력 버튼용
	function setReportMain() {
		let fileName = "aaaClobTest.jrf";
		let arg = "coCd#" + $("#coCd").val() + "#partNo#" + "B"
             	+ "#";
		callReport(fileName, arg, "1050", "700", "PFU출력" + "B");
	}
    
</script>

</body>
</html>